{"ast":null,"code":"var _jsxFileName = \"/Users/xxxmrg/Downloads/Code/Git/gabriel-chat/pages/new.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { AppBar, Toolbar, Typography, CssBaseline, Container, Paper, Grid, TextField, Button, IconButton, Fab, useScrollTrigger, Slide } from '@material-ui/core';\nimport Chat from '../components/chat';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useRef, useState, useEffect } from 'react';\nconst useStyles = makeStyles({\n  send: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    border: 0,\n    borderRadius: 3,\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    color: 'white',\n    height: 48,\n    padding: '0 30px'\n  },\n  root: {\n    height: '100vh',\n    overflow: 'hidden',\n    padding: 0\n  },\n  chat: {\n    backgroundColor: '#e0f7fa',\n    height: '100vh',\n    overflow: 'auto'\n  },\n  input: {\n    width: '75%'\n  },\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n    background: 'linear-gradient(45deg, #e0f7fa 30%, #0097a7 90%)'\n  },\n  grow: {\n    flexGrow: 1\n  },\n  fabButton: {\n    position: 'absolute',\n    zIndex: 1,\n    top: -30,\n    left: 0,\n    right: 0,\n    margin: '0 auto'\n  }\n}); // hoc to control app bar hidden\n\nfunction HideOnScroll(props) {\n  const {\n    target,\n    children\n  } = props;\n  const trigger = useScrollTrigger({\n    target: target || undefined\n  });\n\n  if (target) {\n    return __jsx(Slide, {\n      appear: false,\n      direction: \"down\",\n      in: !trigger,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, children);\n  }\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, children);\n}\n\nconst fetchData = url => {\n  return fetch(url).then(res => res.json());\n};\n\nexport default function Layout(props) {\n  const classes = useStyles();\n  const chat = useRef(null);\n  const {\n    0: trigger,\n    1: setTrigger\n  } = useState(null);\n  const {\n    0: userName,\n    1: setName\n  } = useState('');\n  useEffect(() => {\n    setTrigger(chat.current);\n  }, []);\n  useEffect(() => {\n    fetchData('/api/getName').then(res => {\n      setName(res);\n    });\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), __jsx(Container, {\n    className: classes.root,\n    maxWidth: \"lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, __jsx(Paper, {\n    elevation: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(Grid, {\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.chat,\n    ref: chat,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(HideOnScroll, _extends({\n    target: trigger\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), __jsx(AppBar, {\n    position: \"sticky\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, __jsx(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Gabriel Chat\")))), __jsx(Chat, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }))), __jsx(AppBar, {\n    position: \"sticky\",\n    className: classes.appBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, __jsx(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, __jsx(TextField, {\n    className: classes.input,\n    label: \"Say something...\",\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), __jsx(Fab, {\n    color: \"secondary\",\n    \"aria-label\": \"add\",\n    className: classes.fabButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, __jsx(ChatIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: classes.grow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), __jsx(IconButton, {\n    edge: \"end\",\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, __jsx(MoreIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }))))))));\n}","map":{"version":3,"sources":["/Users/xxxmrg/Downloads/Code/Git/gabriel-chat/pages/new.js"],"names":["AppBar","Toolbar","Typography","CssBaseline","Container","Paper","Grid","TextField","Button","IconButton","Fab","useScrollTrigger","Slide","Chat","ChatIcon","MoreIcon","makeStyles","useRef","useState","useEffect","useStyles","send","background","border","borderRadius","boxShadow","color","height","padding","root","overflow","chat","backgroundColor","input","width","appBar","top","bottom","grow","flexGrow","fabButton","position","zIndex","left","right","margin","HideOnScroll","props","target","children","trigger","undefined","fetchData","url","fetch","then","res","json","Layout","classes","setTrigger","userName","setName","current"],"mappings":";;;;;;AAAA,SACEA,MADF,EAEEC,OAFF,EAGEC,UAHF,EAIEC,WAJF,EAKEC,SALF,EAMEC,KANF,EAOEC,IAPF,EAQEC,SARF,EASEC,MATF,EAUEC,UAVF,EAWEC,GAXF,EAYEC,gBAZF,EAaEC,KAbF,QAcO,mBAdP;AAeA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,SAA3B,QAA4C,OAA5C;AAEA,MAAMC,SAAS,GAAGJ,UAAU,CAAC;AAC3BK,EAAAA,IAAI,EAAE;AACJC,IAAAA,UAAU,EAAE,kDADR;AAEJC,IAAAA,MAAM,EAAE,CAFJ;AAGJC,IAAAA,YAAY,EAAE,CAHV;AAIJC,IAAAA,SAAS,EAAE,uCAJP;AAKJC,IAAAA,KAAK,EAAE,OALH;AAMJC,IAAAA,MAAM,EAAE,EANJ;AAOJC,IAAAA,OAAO,EAAE;AAPL,GADqB;AAU3BC,EAAAA,IAAI,EAAE;AACJF,IAAAA,MAAM,EAAE,OADJ;AAEJG,IAAAA,QAAQ,EAAE,QAFN;AAGJF,IAAAA,OAAO,EAAE;AAHL,GAVqB;AAe3BG,EAAAA,IAAI,EAAE;AACJC,IAAAA,eAAe,EAAE,SADb;AAEJL,IAAAA,MAAM,EAAE,OAFJ;AAGJG,IAAAA,QAAQ,EAAE;AAHN,GAfqB;AAoB3BG,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE;AADF,GApBoB;AAuB3BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,MADC;AAENC,IAAAA,MAAM,EAAE,CAFF;AAGNf,IAAAA,UAAU,EAAE;AAHN,GAvBmB;AA4B3BgB,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE;AADN,GA5BqB;AA+B3BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE,UADD;AAETC,IAAAA,MAAM,EAAE,CAFC;AAGTN,IAAAA,GAAG,EAAE,CAAC,EAHG;AAITO,IAAAA,IAAI,EAAE,CAJG;AAKTC,IAAAA,KAAK,EAAE,CALE;AAMTC,IAAAA,MAAM,EAAE;AANC;AA/BgB,CAAD,CAA5B,C,CAwCA;;AACA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAuBF,KAA7B;AACA,QAAMG,OAAO,GAAGvC,gBAAgB,CAAC;AAAEqC,IAAAA,MAAM,EAAEA,MAAM,IAAIG;AAApB,GAAD,CAAhC;;AACA,MAAIH,MAAJ,EAAY;AACV,WACE,MAAC,KAAD;AAAO,MAAA,MAAM,EAAE,KAAf;AAAsB,MAAA,SAAS,EAAC,MAAhC;AAAuC,MAAA,EAAE,EAAE,CAACE,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,QADH,CADF;AAKD;;AACD,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMA,QAAN,CAAP;AACD;;AAED,MAAMG,SAAS,GAAGC,GAAG,IAAI;AACvB,SAAOC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAvB,CAAP;AACD,CAFD;;AAGA,eAAe,SAASC,MAAT,CAAgBX,KAAhB,EAAuB;AACpC,QAAMY,OAAO,GAAGvC,SAAS,EAAzB;AACA,QAAMW,IAAI,GAAGd,MAAM,CAAC,IAAD,CAAnB;AACA,QAAM;AAAA,OAACiC,OAAD;AAAA,OAAUU;AAAV,MAAwB1C,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAAC2C,QAAD;AAAA,OAAWC;AAAX,MAAsB5C,QAAQ,CAAC,EAAD,CAApC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdyC,IAAAA,UAAU,CAAC7B,IAAI,CAACgC,OAAN,CAAV;AACD,GAFQ,EAEN,EAFM,CAAT;AAGA5C,EAAAA,SAAS,CAAC,MAAM;AACdiC,IAAAA,SAAS,CAAC,cAAD,CAAT,CAA0BG,IAA1B,CAA+BC,GAAG,IAAI;AACpCM,MAAAA,OAAO,CAACN,GAAD,CAAP;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAKA,SACE,4BACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,SAAD;AAAW,IAAA,SAAS,EAAEG,OAAO,CAAC9B,IAA9B;AAAoC,IAAA,QAAQ,EAAC,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,SAAS,EAAE,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAE8B,OAAO,CAAC5B,IAAxB;AAA8B,IAAA,GAAG,EAAEA,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AAAc,IAAA,MAAM,EAAEmB;AAAtB,KAAmCH,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACE,MAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CADF,CADF,EAQE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF,CADF,EAaE,MAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,QAAjB;AAA0B,IAAA,SAAS,EAAEY,OAAO,CAACxB,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AACE,IAAA,SAAS,EAAEwB,OAAO,CAAC1B,KADrB;AAEE,IAAA,KAAK,EAAC,kBAFR;AAGE,IAAA,KAAK,EAAC,WAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME,MAAC,GAAD;AACE,IAAA,KAAK,EAAC,WADR;AAEE,kBAAW,KAFb;AAGE,IAAA,SAAS,EAAE0B,OAAO,CAACnB,SAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CANF,EAaE;AAAK,IAAA,SAAS,EAAEmB,OAAO,CAACrB,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,EAcE,MAAC,UAAD;AAAY,IAAA,IAAI,EAAC,KAAjB;AAAuB,IAAA,KAAK,EAAC,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAdF,CADF,CAbF,CADF,CADF,CAFF,CADF;AA2CD","sourcesContent":["import {\n  AppBar,\n  Toolbar,\n  Typography,\n  CssBaseline,\n  Container,\n  Paper,\n  Grid,\n  TextField,\n  Button,\n  IconButton,\n  Fab,\n  useScrollTrigger,\n  Slide,\n} from '@material-ui/core'\nimport Chat from '../components/chat'\nimport ChatIcon from '@material-ui/icons/Chat'\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useRef, useState, useEffect } from 'react'\n\nconst useStyles = makeStyles({\n  send: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    border: 0,\n    borderRadius: 3,\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    color: 'white',\n    height: 48,\n    padding: '0 30px',\n  },\n  root: {\n    height: '100vh',\n    overflow: 'hidden',\n    padding: 0,\n  },\n  chat: {\n    backgroundColor: '#e0f7fa',\n    height: '100vh',\n    overflow: 'auto',\n  },\n  input: {\n    width: '75%',\n  },\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n    background: 'linear-gradient(45deg, #e0f7fa 30%, #0097a7 90%)',\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  fabButton: {\n    position: 'absolute',\n    zIndex: 1,\n    top: -30,\n    left: 0,\n    right: 0,\n    margin: '0 auto',\n  },\n})\n// hoc to control app bar hidden\nfunction HideOnScroll(props) {\n  const { target, children } = props\n  const trigger = useScrollTrigger({ target: target || undefined })\n  if (target) {\n    return (\n      <Slide appear={false} direction=\"down\" in={!trigger}>\n        {children}\n      </Slide>\n    )\n  }\n  return <div>{children}</div>\n}\n\nconst fetchData = url => {\n  return fetch(url).then(res => res.json())\n}\nexport default function Layout(props) {\n  const classes = useStyles()\n  const chat = useRef(null)\n  const [trigger, setTrigger] = useState(null)\n  const [userName, setName] = useState('')\n  useEffect(() => {\n    setTrigger(chat.current)\n  }, [])\n  useEffect(() => {\n    fetchData('/api/getName').then(res => {\n      setName(res)\n    })\n  }, [])\n  return (\n    <>\n      <CssBaseline />\n      <Container className={classes.root} maxWidth=\"lg\">\n        <Paper elevation={3}>\n          <Grid container>\n            <Grid item xs={12}>\n              <div className={classes.chat} ref={chat}>\n                <HideOnScroll target={trigger} {...props}>\n                  <AppBar position=\"sticky\">\n                    <Toolbar>\n                      <Typography variant=\"h6\">Gabriel Chat</Typography>\n                    </Toolbar>\n                  </AppBar>\n                </HideOnScroll>\n                <Chat />\n              </div>\n            </Grid>\n            <AppBar position=\"sticky\" className={classes.appBar}>\n              <Toolbar>\n                <TextField\n                  className={classes.input}\n                  label=\"Say something...\"\n                  color=\"secondary\"\n                />\n                <Fab\n                  color=\"secondary\"\n                  aria-label=\"add\"\n                  className={classes.fabButton}\n                >\n                  <ChatIcon />\n                </Fab>\n                <div className={classes.grow} />\n                <IconButton edge=\"end\" color=\"inherit\">\n                  <MoreIcon />\n                </IconButton>\n              </Toolbar>\n            </AppBar>\n          </Grid>\n        </Paper>\n      </Container>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}